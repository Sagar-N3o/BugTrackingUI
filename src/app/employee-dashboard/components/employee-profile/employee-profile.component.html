<div *ngIf="hasError" class="alert alert-danger mt-20">
  Something went wrong.! try again :( <button type="button" class="btn btn-danger btn-link" (click)="GoBack()">Go
    Back</button>
</div>

<div class="row">
  <div class="col-md-7">
    <app-employee-personal-details></app-employee-personal-details>
  </div>

  <div class="col-md-5">
    <div class="panel panel-default">
      <div class="panel-heading main-color-bg">
        <h3 class="panel-title">
          <span class="fa fa-tasks">&nbsp;&nbsp;&nbsp;</span>Current Project
        </h3>
      </div>
      <div class="panel-body">
        <table class="table table-hover">
          <tr *ngIf="employee.project == null">
            <td>
              You are not working in any project.
            </td>
          </tr>
          <tr *ngFor="let project of employee.project">
            <td>
              <div class="row bug-item">
                <div class="col-md-5">
                  <b>Project Title</b>
                </div>
                <div class="col-md-7">
                  {{ project.ProjectViewModel.ProjectName }}
                </div>
                <div class="col-md-5">
                  <b>Role</b>
                </div>
                <div class="col-md-7">
                  {{ employee.role }}
                </div>
              </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="panel-footer" [ngClass]="{'hidden': employee.project == null}">
        <input type="button" class="btn main-color-bg" value="Full Details" (click)="ViewProjectDetails()" />
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading main-color-bg">
        <h3 class="panel-title">
          <span class="fa fa-bug">&nbsp;&nbsp;&nbsp;</span>Active Bugs
        </h3>
      </div>
      <div class="panel-body">
        <table class="table table-hover">
          <tr *ngIf="employee.bugCount == 0">
            <td>
              No any active bug.
            </td>
          </tr>
          <tr *ngFor="let bug of employee.bugs">
            <td *ngIf="bug.StatusId != 1 && bug.StatusId != 2004">
              No any active bug.
            </td>
            <td *ngIf="bug.StatusId == 1 || bug.StatusId == 2004">
              <div class="row bug-item">
                <div class="col-md-4">
                  <b>Bug Title</b>
                </div>
                <div class="col-md-4">
                  {{ bug.Title | slice: 0: 8 }}...
                </div>
                <div class="col-md-4">
                  <a [routerLink]="[ '/employee/bug/details', bug.Id ]">Details</a>
                </div>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>