<div *ngIf="hasError" class="alert alert-danger mt-20">
  Something went wrong.! try again :( <button type="button" class="btn btn-danger btn-link" (click)="GoBack()">Go
    Back</button>
</div>

<div class="panel panel-default">
  <div class="panel-heading main-color-bg">
    <h3 class="panel-title">
      <span class="fa fa-tasks">&nbsp;&nbsp;&nbsp;</span>Current Project
    </h3>
  </div>
  <div class="panel-body">
    <div class="row text-center">
      <div class="col-md-3 col-md-offset-3">
        <div class="card">
          <h4 class="card-title">
            <span class="fa fa-2x fa-bug"></span>
          </h4>
          <div class="card-container">
            {{ project.bugCount }} Active bug<small>(s)</small>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card">
          <h4 class="card-title">
            <span class="fa fa-2x fa-user"></span>
          </h4>
          <div class="card-container">
            {{ project.employeeCount }} Employee<small>(s)</small>
          </div>
        </div>
      </div>
    </div>

    <hr />

    <div class="row">
      <div class="col-md-3">
        <h4>
          <b>Details</b>
        </h4>
      </div>
      <div class="col-md-9 text-right" *ngIf="!hasError">
        <button type="button" class="btn btn-link" (click)="ChangeStatus(1007)">Change status : <b>Finished.</b></button>
      </div>
    </div>
    

    <table class="table table-hover">
      <tr>
        <td width="210px">Title</td>
        <td>{{ project.name }}</td>
      </tr>
      <tr>
        <td>Description</td>
        <td>{{ project.description }}</td>
      </tr>
      <tr>
        <td>Is Active</td>
        <td>{{ project.isActive }}</td>
      </tr>
      <tr>
        <td>Status</td>
        <td>{{ project.status }}</td>
      </tr>
      <tr>
        <td>Technology</td>
        <td>{{ project.technology }}</td>
      </tr>
    </table>

    <hr />

    <h4>
      <b>Current Employees</b>
    </h4>

    <table class="table table-hover">
      <tr *ngIf="project.employeeCount == 0">
        <td>
          No one is working in this project.
        </td>
      </tr>
      <tr *ngFor="let employee of project.employees">
        <td>
          <div class="row employee-item">
            <div class="col-md-3">
              Name
            </div>
            <div class="col-md-9">
              {{ employee.UserViewModel.FirstName }} {{ employee.UserViewModel.LastName }}
            </div>
            <div class="col-md-3">
              Email
            </div>
            <div class="col-md-9">
              {{ employee.UserViewModel.Email }}
            </div>
          </div>
        </td>
      </tr>
    </table>

    <hr />

    <h4>
      <b>Active Bugs</b>
    </h4>

    <table class="table table-hover">
      <tr *ngIf="project.bugCount == 0">
        <td colspan="2">
          No any active bug.
        </td>
      </tr>
      <tr *ngFor="let bug of project.bugs">
        <td width="210px">Bug Title</td>
        <td>{{ bug.Title }}</td>
      </tr>
    </table>
  </div>
</div>